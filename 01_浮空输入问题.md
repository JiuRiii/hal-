原因分析
在学按键控制灯泡亮灭的过程中，我理想的状态是灯泡低电平点亮，通过按键控制。逻辑是检测按键端口输入电平的高低，如果是高电平（按键按下），那么灯泡点亮，反之，灯泡熄灭。
但是在使用CUBEWMX进行初始化配置后，发现灯泡在按键未按下的状态下也是出于亮的状态，但是亮度只有正常亮度的一半。经过排查，发现是 案件端口 的输入模式配置问题。

错误配置：GPIO_NOPULL (无上下拉)。

原理：当引脚配置为浮空输入（Floating Input）时，引脚呈高阻态，极易受到周围电磁干扰（如人体静电、电源波动）。干扰信号积累的电荷使得引脚电压漂移不定，单片机将其误读为高电平 (1)，导致误触发。

解决方案
将 GPIO 的模式修改为下拉输入 (Pull-Down)，给引脚一个默认的低电平状态。

修改后的 HAL 库配置（在 gpio.c 中）：

或者在 STM32CubeMX 中将 GPIO Pull-up/Pull-down 选项改为 Pull-down。

总结
浮空 = 未知。不要让作为输入的引脚处于浮空状态。

如果外部电路没有接物理电阻，必须在软件内部开启 Pull-up 或 Pull-down。
